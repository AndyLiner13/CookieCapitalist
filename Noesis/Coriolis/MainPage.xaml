
<Page
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d"
  Background="#FF4D5052" 
  xmlns:noesis="clr-namespace:NoesisGUIExtensions"
  d:DataContext="DataSet_Metrics"
  DataContext="InstrumentData" d:DesignWidth="1920" d:DesignHeight="1080">

  <Page.Resources>
    <Storyboard x:Key="Helicopter_IdleAnimation" AutoReverse="True" RepeatBehavior="Forever">
      <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Helicopter_IdleAnimation" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)">
        <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-3"/>
        <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="3">
          <EasingDoubleKeyFrame.EasingFunction>
            <BounceEase EasingMode="EaseInOut" Bounces="2" Bounciness="3"/>
          </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>
      </DoubleAnimationUsingKeyFrames>
      <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Helicopter_IdleAnimation" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
        <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-1"/>
        <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="1">
          <EasingDoubleKeyFrame.EasingFunction>
            <BounceEase EasingMode="EaseInOut" Bounces="2" Bounciness="3"/>
          </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>
      </DoubleAnimationUsingKeyFrames>
    </Storyboard>
  </Page.Resources>

  <Grid x:Name="Screen_Master">
  

    <Grid x:Name="VerticalScreenDivision">
      <Grid.RowDefinitions>
        <RowDefinition Height="2*"/>
        <RowDefinition Height="1*"/>
      </Grid.RowDefinitions>
      <Grid x:Name="FullHeight_Back" Grid.RowSpan="2">
        <Component Source="/Root;component/Components/Scene_Elements/Background.xaml" RenderTransformOrigin="0.5,0.5">
          <Component.RenderTransform>
            <TransformGroup>
              <ScaleTransform/>
              <SkewTransform/>
              <RotateTransform/>
              <TranslateTransform Y="-196"/>
            </TransformGroup>
          </Component.RenderTransform>
        </Component>
      </Grid>
      <Grid x:Name="CentreVerticalDivision">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="2*"/>
          <ColumnDefinition Width="2*"/>
          <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="4*"/>
          <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>
        <Grid x:Name="Helicopter" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Bottom" Grid.Column="1">
          <Grid.RenderTransform>
            <TransformGroup>
              <ScaleTransform/>
              <SkewTransform/>
              <RotateTransform/>
              <TranslateTransform/>
            </TransformGroup>
          </Grid.RenderTransform>
          <Grid x:Name="Helicopter_DefaultPitch" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Grid.RenderTransform>
              <TransformGroup>
                <ScaleTransform/>
                <SkewTransform/>
                <RotateTransform/>
                <TranslateTransform/>
              </TransformGroup>
            </Grid.RenderTransform>
            <Grid x:Name="Helicopter_IdleAnimation" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Center">
              <Grid.RenderTransform>
                <TransformGroup>
                  <ScaleTransform/>
                  <SkewTransform/>
                  <RotateTransform/>
                  <TranslateTransform/>
                </TransformGroup>
              </Grid.RenderTransform>
              <Component Source="/Root;component/Components/Generic/Helicopter_Animated.xaml" HorizontalAlignment="Center" VerticalAlignment="Center" Height="128" RenderTransformOrigin="0.5,0.5">
                <Component.RenderTransform>
                  <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform>
                      <RotateTransform.Angle>
                        <Binding Path="Metrics.Pitch">
                          <Binding.Converter>
                            <noesis:MathConverter Expression="{}{0}*2"/>
                          </Binding.Converter>
                        </Binding>
                      </RotateTransform.Angle>
                    </RotateTransform>
                    <TranslateTransform>
                      <TranslateTransform.Y>
                        <Binding Path="Metrics.Altitude">
                          <Binding.Converter>
                            <noesis:MathConverter Expression="-{0}/20"/>
                          </Binding.Converter>
                        </Binding>
                      </TranslateTransform.Y>
                    </TranslateTransform>
                  </TransformGroup>
                </Component.RenderTransform>
              </Component>
            </Grid>
          </Grid>
        </Grid>
        <Grid x:Name="ControlPanel" Grid.Row="1" Grid.Column="1">
          <Grid x:Name="ControlPanel_Offset">
            <Grid.RenderTransform>
              <TransformGroup>
                <ScaleTransform/>
                <SkewTransform/>
                <RotateTransform/>
                <TranslateTransform Y="8"/>
              </TransformGroup>
            </Grid.RenderTransform>
            <Component Source="/Root;component/Components/Scene_Elements/Panel_Controls.xaml" RenderTransformOrigin="0.5,0.5">
              <Component.RenderTransform>
                <TransformGroup>
                  <ScaleTransform/>
                  <SkewTransform/>
                  <RotateTransform/>
                  <TranslateTransform/>
                </TransformGroup>
              </Component.RenderTransform>
            </Component>
            <Component Source="/Root;component/Components/Generic/AircraftControl_All.xaml" Pitch_Value_Current_Float="{Binding Path=Metrics.Pitch, Mode=TwoWay}" Lift_Value_Current_Float="{Binding Path=Metrics.Altitude, Mode=TwoWay}" Airspeed_Value_Current_Float="{Binding Path=Metrics.Airspeed, Mode=TwoWay}" Climb_Value_Current_Float="{Binding Path=Metrics.Climb, Mode=TwoWay}"/>
          </Grid>
        </Grid>
      </Grid>
      <Grid x:Name="BottomThird" Grid.Row="1">
        <Grid x:Name="Dashboard" Grid.Row="1" VerticalAlignment="Center">
          <Component Source="/Root;component/Components/Scene_Elements/Panel_Instruments.xaml" Grid.Row="1"/>
          <Grid x:Name="Instruments" Margin="64,32,64,32">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="1*"/>
              <ColumnDefinition Width="1*"/>
              <ColumnDefinition Width="1*"/>
              <ColumnDefinition Width="1*"/>
              <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <Viewbox x:Name="Altimeter" Grid.Column="1">
              <Component Source="/Root;component/Components/Instruments/Instrument_Altimeter.xaml" Altitude_Float="{Binding Path=Metrics.Altitude}"/>
            </Viewbox>
            <Viewbox x:Name="Speedometer">
              <Component Source="/Root;component/Components/Instruments/Instrument_Speedometer.xaml" Airspeed_Float="{Binding Path=Metrics.Airspeed}"/>
            </Viewbox>
            <Viewbox x:Name="Compass" Grid.Column="2">
              <Component Source="/Root;component/Components/Instruments/Instrument_Compass.xaml" Bearing_Float="{Binding Path=Metrics.Heading}"/>
            </Viewbox>
            <Viewbox x:Name="Level" Grid.Column="3">
              <Component Source="/Root;component/Components/Instruments/Instrument_Level.xaml" Level_Float="{Binding Path=Metrics.Pitch}"/>
            </Viewbox>
            <Viewbox x:Name="Climb" Grid.Column="4">
              <Component Source="/Root;component/Components/Instruments/Instrument_Climb.xaml" Climb_Float="{Binding Path=Metrics.Climb}"/>
            </Viewbox>
          </Grid>
        </Grid>
      </Grid>
    </Grid>

    <Grid.Triggers>
      <EventTrigger RoutedEvent="Loaded">
        <BeginStoryboard x:Name="Helicopter_IdleAnimation_Begin" Storyboard="{StaticResource Helicopter_IdleAnimation}"/>
      </EventTrigger>
    </Grid.Triggers>
  </Grid>

</Page>