
<Component x:Name="Altimeter_Root"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d" xmlns:noesis="clr-namespace:NoesisGUIExtensions">
  <Component.Resources>
    <Storyboard x:Key="Gauge_Altimeter_IdleAnimation" RepeatBehavior="Forever" AutoReverse="True">
      <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Needle_Thin_IdleAnimation" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
        <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-3"/>
        <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="3">
          <EasingDoubleKeyFrame.EasingFunction>
            <BounceEase EasingMode="EaseInOut" Bounces="2" Bounciness="3"/>
          </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>
      </DoubleAnimationUsingKeyFrames>
      <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Needle_Medium_IdleAnimation" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
        <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-3"/>
        <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="3">
          <EasingDoubleKeyFrame.EasingFunction>
            <BounceEase EasingMode="EaseInOut" Bounces="2" Bounciness="3"/>
          </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>
      </DoubleAnimationUsingKeyFrames>
      <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Needle_Short_IdleAnimation" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
        <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-3"/>
        <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="3">
          <EasingDoubleKeyFrame.EasingFunction>
            <BounceEase EasingMode="EaseInOut" Bounces="2" Bounciness="3"/>
          </EasingDoubleKeyFrame.EasingFunction>
        </EasingDoubleKeyFrame>
      </DoubleAnimationUsingKeyFrames>
    </Storyboard>
  </Component.Resources>

  <Component.DynamicProperties>
    <DynamicProperty Name="Altitude" Type="Float"/>
  </Component.DynamicProperties>

  <Grid x:Name="Gauge_Altimeter_Master" Width="180" Height="180" ClipToBounds="True">

    <Grid.Clip>
      <EllipseGeometry RadiusX="89" Center="90,90" RadiusY="89"/>
    </Grid.Clip>
    
    <Grid x:Name="Dial">
      <noesis:RadialTicks x:Name="Ticks_Major_Bottom" MinAngle="-180" MaxAngle="180" TickWidth="4" TickLength="16" Padding="0" Spacing="10" Minimum="99">
        <noesis:RadialTicks.Brush>
          <SolidColorBrush Color="{DynamicResource White1}"/>
        </noesis:RadialTicks.Brush>
      </noesis:RadialTicks>
      <noesis:RadialTicks x:Name="Ticks_Major_Left" MinAngle="-36" MaxAngle="-144" TickWidth="4" TickLength="16" Padding="0" Spacing="10" Maximum="30">
        <noesis:RadialTicks.Brush>
          <SolidColorBrush Color="{DynamicResource White1}"/>
        </noesis:RadialTicks.Brush>
      </noesis:RadialTicks>
      <noesis:RadialTicks x:Name="Ticks_Major_Right" MinAngle="36" MaxAngle="144" TickWidth="4" TickLength="16" Padding="0" Spacing="10" Maximum="30">
        <noesis:RadialTicks.Brush>
          <SolidColorBrush Color="{DynamicResource White1}"/>
        </noesis:RadialTicks.Brush>
      </noesis:RadialTicks>
      <noesis:RadialTicks x:Name="Ticks_Minor" TickLength="8" Padding="0" Spacing="5" Brush="#FFFFFFFF" Maximum="100" MinAngle="-180" MaxAngle="180"/>
      <noesis:RadialNumbers x:Name="Numbers_Left" Brush="#FFFFFFFF" Spacing="1" MinAngle="35" MaxAngle="145" Maximum="4" FontFamily="OCR A" FontSize="20" Padding="32" Minimum="1"/>
      <noesis:RadialNumbers x:Name="Numbers_TopAndBottom" FontFamily="OCR A" FontSize="20" Padding="32" Spacing="5" Maximum="5" MaxAngle="180" MinAngle="0">
        <noesis:RadialNumbers.Brush>
          <SolidColorBrush Color="{DynamicResource White1}"/>
        </noesis:RadialNumbers.Brush>
      </noesis:RadialNumbers>
      <noesis:RadialNumbers x:Name="Numbers_Right" FontFamily="OCR A" FontSize="20" Padding="32" Spacing="1" MinAngle="-145" MaxAngle="-35" Minimum="6" Maximum="9">
        <noesis:RadialNumbers.Brush>
          <SolidColorBrush Color="{DynamicResource White1}"/>
        </noesis:RadialNumbers.Brush>
      </noesis:RadialNumbers>
      <Component Source="/Root;component/Components/Generic/Arrow.xaml" VerticalAlignment="Top" HorizontalAlignment="Center" Width="20" Height="18"/>
    </Grid>
    <Grid x:Name="Needles">
      <Grid x:Name="Needle_Thin_IdleAnimation" RenderTransformOrigin="0.5,0.5">
        <Grid.RenderTransform>
          <TransformGroup>
            <ScaleTransform/>
            <SkewTransform/>
            <RotateTransform/>
            <TranslateTransform/>
          </TransformGroup>
        </Grid.RenderTransform>
        <noesis:RadialNeedle x:Name="Needle_Thin" MinAngle="-180" MaxAngle="180" Maximum="1" RenderTransformOrigin="0.5,0.5">
          <noesis:RadialNeedle.RenderTransform>
            <TransformGroup>
              <ScaleTransform/>
              <SkewTransform/>
              <RotateTransform Angle="180"/>
              <TranslateTransform/>
            </TransformGroup>
          </noesis:RadialNeedle.RenderTransform>
          <noesis:RadialNeedle.Value>
            <Binding Path="Altitude_Float" ElementName="Altimeter_Root">
              <Binding.Converter>
                <noesis:MathConverter Expression="{}{0}%100/100"/>
              </Binding.Converter>
            </Binding>
          </noesis:RadialNeedle.Value>
          <Component Source="/Root;component/Components/Generic/Needle_Thin.xaml"/>
        </noesis:RadialNeedle>
      </Grid>
      <Grid x:Name="Needle_Medium_IdleAnimation" RenderTransformOrigin="0.5,0.5">
        <Grid.RenderTransform>
          <TransformGroup>
            <ScaleTransform/>
            <SkewTransform/>
            <RotateTransform/>
            <TranslateTransform/>
          </TransformGroup>
        </Grid.RenderTransform>
        <noesis:RadialNeedle x:Name="Needle_Medium" MinAngle="-180" MaxAngle="180" Maximum="1" RenderTransformOrigin="0.5,0.5">
          <noesis:RadialNeedle.RenderTransform>
            <TransformGroup>
              <ScaleTransform/>
              <SkewTransform/>
              <RotateTransform Angle="180"/>
              <TranslateTransform/>
            </TransformGroup>
          </noesis:RadialNeedle.RenderTransform>
          <noesis:RadialNeedle.Value>
            <Binding Path="Altitude_Float" ElementName="Altimeter_Root">
              <Binding.Converter>
                <noesis:MathConverter Expression="{}{0}%1000/1000"/>
              </Binding.Converter>
            </Binding>
          </noesis:RadialNeedle.Value>
          <Component Source="/Root;component/Components/Generic/Needle_Medium.xaml"/>
        </noesis:RadialNeedle>
      </Grid>
      <Grid x:Name="Needle_Short_IdleAnimation" RenderTransformOrigin="0.5,0.5">
        <Grid.RenderTransform>
          <TransformGroup>
            <ScaleTransform/>
            <SkewTransform/>
            <RotateTransform/>
            <TranslateTransform/>
          </TransformGroup>
        </Grid.RenderTransform>
        <noesis:RadialNeedle x:Name="Needle_Short" MinAngle="-180" MaxAngle="180" Maximum="1" RenderTransformOrigin="0.5,0.5">
          <noesis:RadialNeedle.RenderTransform>
            <TransformGroup>
              <ScaleTransform/>
              <SkewTransform/>
              <RotateTransform Angle="180"/>
              <TranslateTransform/>
            </TransformGroup>
          </noesis:RadialNeedle.RenderTransform>
          <noesis:RadialNeedle.Value>
            <Binding Path="Altitude_Float" ElementName="Altimeter_Root">
              <Binding.Converter>
                <noesis:MathConverter Expression="{}{0}/10000"/>
              </Binding.Converter>
            </Binding>
          </noesis:RadialNeedle.Value>
          <Component Source="/Root;component/Components/Generic/Needle_Short.xaml"/>
        </noesis:RadialNeedle>
      </Grid>
    </Grid>
    <Component Source="/Root;component/Components/Instruments_Generic/Instrument_Generic_Fastener.xaml" VerticalAlignment="Center" Height="8" HorizontalAlignment="Center"/>

    <Grid.Triggers>
      <EventTrigger RoutedEvent="Loaded">
        <BeginStoryboard x:Name="Gauge_Altimeter_IdleAnimation_Begin" Storyboard="{StaticResource Gauge_Altimeter_IdleAnimation}"/>
      </EventTrigger>
    </Grid.Triggers>
  </Grid>
</Component>