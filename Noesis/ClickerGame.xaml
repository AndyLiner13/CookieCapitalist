<!-- 
  ClickerGame - Unified Noesis XAML
  Single page containing all game screens with VisualStateManager navigation
-->

<Page
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d"
  d:DataContext="ClickerGame_DataSet"
  d:DesignWidth="393"
  d:DesignHeight="852">

<Page.Resources>
  <ResourceDictionary>
    <!-- Popup text base style -->
    <Style x:Key="PopupTextStyle" TargetType="TextBlock">
      <Setter Property="FontFamily" Value="Fonts/#Anton"/>
      <Setter Property="HorizontalAlignment" Value="Center"/>
      <Setter Property="VerticalAlignment" Value="Center"/>
      <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
      <Setter Property="IsHitTestVisible" Value="False"/>
    </Style>
    
    <!-- Invisible button style - no hover/click visual feedback -->
    <Style x:Key="InvisibleButtonStyle" TargetType="Button">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>
  </ResourceDictionary>
</Page.Resources>

<Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
  <Grid.Background>
    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
      <GradientStop Color="#2773EA" Offset="0"/>
      <GradientStop Color="#1E4DCE" Offset="1"/>
    </LinearGradientBrush>
  </Grid.Background>

  <!-- ═══════════════════════════════════════════════════════════════════════════════════════════ -->
  <!-- Region: Main Container                                                                      -->
  <!-- ═══════════════════════════════════════════════════════════════════════════════════════════ -->
  <Border HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ClipToBounds="True" Background="Transparent">
    
    <Grid>
      <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
      <!-- Region: Initial State Trigger - Sets default navigation state on load                   -->
      <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
      <b:Interaction.Triggers>
        <b:EventTrigger>
          <b:GoToStateAction StateName="HomeState"/>
        </b:EventTrigger>
      </b:Interaction.Triggers>
      
      <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
      <!-- Region: Visual State Manager - Navigation States                                        -->
      <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="NavigationStates">
          <VisualStateGroup.Transitions>
            <VisualTransition GeneratedDuration="0:0:0.3"/>
          </VisualStateGroup.Transitions>
          
          <!-- Home State -->
          <VisualState x:Name="HomeState">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HomePage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ShopPage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Hidden}"/>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LeaderboardPage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Hidden}"/>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          
          <!-- Shop State -->
          <VisualState x:Name="ShopState">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HomePage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Hidden}"/>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ShopPage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LeaderboardPage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Hidden}"/>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          
          <!-- Leaderboard State -->
          <VisualState x:Name="LeaderboardState">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HomePage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Hidden}"/>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ShopPage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Hidden}"/>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LeaderboardPage" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      
      <Grid.RowDefinitions>
        <RowDefinition Height="143"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="124"/>
      </Grid.RowDefinitions>

      <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
      <!-- Region: Header - Cookie Count (Shared across all pages)                                   -->
      <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
      <Border HorizontalAlignment="Stretch" Background="#80000000" Padding="16,58,16,8" Grid.Row="0">
        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
          <TextBlock Text="{Binding cookieCount}" FontFamily="Fonts/#Anton-Regular" FontSize="36" Foreground="#ffffff" TextAlignment="Center"/>
          <TextBlock Text="{Binding cookiesPerSecond}" FontFamily="Fonts/#Anton-Regular" FontSize="15" Foreground="#ffffff" TextAlignment="Center"/>
        </StackPanel>
      </Border>

      <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
      <!-- Region: Page Content Area                                                                 -->
      <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
      <Grid Grid.Row="1">
        
        <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
        <!-- Region: HOME PAGE - Cookie Button with Ring and Popups                                  -->
        <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
        <Grid x:Name="HomePage">
          <!-- Ring of Clicker Images around Cookie - uses ItemsControl with template -->
          <ItemsControl x:Name="PointerRing" ItemsSource="{Binding fingerPositions}" HorizontalAlignment="Center" VerticalAlignment="Center" IsHitTestVisible="False">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <!-- Smooth XAML-driven rotation animation -->
                <Canvas Width="336" Height="336" RenderTransformOrigin="0.5,0.5">
                  <Canvas.RenderTransform>
                    <RotateTransform x:Name="PointerRingRotate" Angle="0"/>
                  </Canvas.RenderTransform>
                  <Canvas.Triggers>
                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                      <BeginStoryboard>
                        <Storyboard RepeatBehavior="Forever">
                          <DoubleAnimation Storyboard.TargetName="PointerRingRotate" Storyboard.TargetProperty="Angle" From="0" To="360" Duration="0:1:0"/>
                        </Storyboard>
                      </BeginStoryboard>
                    </EventTrigger>
                  </Canvas.Triggers>
                </Canvas>
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemContainerStyle>
              <Style TargetType="ContentPresenter">
                <Setter Property="Canvas.Left" Value="{Binding left}"/>
                <Setter Property="Canvas.Top" Value="{Binding top}"/>
              </Style>
            </ItemsControl.ItemContainerStyle>
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <!-- Animated finger image: rotated toward center, clicking only when isClicking=true -->
                <Image Source="Images/ClickerImage.png" Width="36" Height="36" RenderTransformOrigin="0.5,0.5">
                  <Image.RenderTransform>
                    <TransformGroup>
                      <TranslateTransform x:Name="FingerBob" Y="0"/>
                      <RotateTransform Angle="{Binding rotation}"/>
                    </TransformGroup>
                  </Image.RenderTransform>
                  <b:Interaction.Triggers>
                    <b:DataTrigger Binding="{Binding isClicking}" Value="True">
                      <b:ControlStoryboardAction>
                        <b:ControlStoryboardAction.Storyboard>
                          <Storyboard>
                            <!-- Single click: up then down (slower) -->
                            <DoubleAnimation Storyboard.TargetName="FingerBob" Storyboard.TargetProperty="Y" From="0" To="-8" Duration="0:0:0.12" AutoReverse="True">
                              <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut"/>
                              </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                          </Storyboard>
                        </b:ControlStoryboardAction.Storyboard>
                      </b:ControlStoryboardAction>
                    </b:DataTrigger>
                  </b:Interaction.Triggers>
                </Image>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
          
          <!-- Clickable Cookie (centered) -->
          <!-- Fixed-size button so cookie scale animation cannot influence layout or finger ring positioning -->
          <Button x:Name="CookieButton" Style="{StaticResource InvisibleButtonStyle}" Width="256" Height="256" HorizontalAlignment="Center" VerticalAlignment="Center" Command="{Binding onCookieClick}">
            <Grid>
              <Image x:Name="CookieImage" Source="Images/Coogie.png" Width="256" Height="256" Stretch="UniformToFill" RenderTransformOrigin="0.5,0.5">
                <Image.RenderTransform>
                  <ScaleTransform x:Name="CookieScale" ScaleX="1" ScaleY="1"/>
                </Image.RenderTransform>
              </Image>
            </Grid>
            <b:Interaction.Triggers>
              <!-- Shrink on press -->
              <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="CookieScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                      <DoubleAnimation Storyboard.TargetName="CookieScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <!-- Bounce back on release -->
              <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="CookieScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                      <DoubleAnimation Storyboard.TargetName="CookieScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
            </b:Interaction.Triggers>
          </Button>
          
          <!-- Popup Text Elements (10 total) -->
          <TextBlock x:Name="Popup0" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup0Text}" Visibility="{Binding Popup0Visible}" Margin="{Binding Popup0Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup0Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup0Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup0Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup0" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup1" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup1Text}" Visibility="{Binding Popup1Visible}" Margin="{Binding Popup1Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup1Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup1Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup1Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup1" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup2" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup2Text}" Visibility="{Binding Popup2Visible}" Margin="{Binding Popup2Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup2Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup2Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup2Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup2" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup3" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup3Text}" Visibility="{Binding Popup3Visible}" Margin="{Binding Popup3Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup3Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup3Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup3Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup3" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup4" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup4Text}" Visibility="{Binding Popup4Visible}" Margin="{Binding Popup4Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup4Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup4Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup4Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup4" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup5" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup5Text}" Visibility="{Binding Popup5Visible}" Margin="{Binding Popup5Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup5Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup5Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup5Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup5" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup6" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup6Text}" Visibility="{Binding Popup6Visible}" Margin="{Binding Popup6Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup6Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup6Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup6Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup6" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup7" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup7Text}" Visibility="{Binding Popup7Visible}" Margin="{Binding Popup7Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup7Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup7Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup7Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup7" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup8" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup8Text}" Visibility="{Binding Popup8Visible}" Margin="{Binding Popup8Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup8Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup8Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup8Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup8" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
          <TextBlock x:Name="Popup9" Style="{StaticResource PopupTextStyle}" Text="{Binding Popup9Text}" Visibility="{Binding Popup9Visible}" Margin="{Binding Popup9Margin}" FontSize="{Binding PopupFontSize}" Foreground="{Binding PopupColor}">
            <TextBlock.RenderTransform><TransformGroup><TranslateTransform x:Name="Popup9Translate" Y="0"/><ScaleTransform ScaleX="1" ScaleY="1"/></TransformGroup></TextBlock.RenderTransform>
            <b:Interaction.Triggers><b:DataTrigger Binding="{Binding Popup9Animate}" Value="True"><b:ControlStoryboardAction><b:ControlStoryboardAction.Storyboard><Storyboard><DoubleAnimation Storyboard.TargetName="Popup9Translate" Storyboard.TargetProperty="Y" From="0" To="-60" Duration="0:0:0.6"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation><DoubleAnimation Storyboard.TargetName="Popup9" Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.6"/></Storyboard></b:ControlStoryboardAction.Storyboard></b:ControlStoryboardAction></b:DataTrigger></b:Interaction.Triggers>
          </TextBlock>
        </Grid>

        <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
        <!-- Region: SHOP PAGE - Upgrade Cards                                                       -->
        <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
        <ScrollViewer x:Name="ShopPage" Visibility="Hidden" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled" Padding="0,8,0,8">
          <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Margin="0,0,0,16" ClipToBounds="False">
            <!-- Upgrade Card 1: Clicker -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/ClickerImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="ClickerProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="ClickerProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="+1 Cookie Clicker" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="ClickerBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="ClickerBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="ClickerBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="ClickerBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="ClickerBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="15 cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="0.1s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
            
            <!-- Upgrade Card 2: Grandma -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/GrandmaImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="GrandmaProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="GrandmaProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="Grandma" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="GrandmaBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="GrandmaBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="GrandmaBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="GrandmaBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="GrandmaBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="100 cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="1s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
            
            <!-- Upgrade Card 3: Farm -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/FarmImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="FarmProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="FarmProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="Cookie Farm" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="FarmBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FarmBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="FarmBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FarmBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="FarmBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="1,100 cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="8s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
            
            <!-- Upgrade Card 4: Factory -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/FactoryImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="FactoryProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="FactoryProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="Cookie Factory" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="FactoryBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FactoryBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="FactoryBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FactoryBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="FactoryBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="12,000 cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="47s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
            
            <!-- Upgrade Card 5: Laboratory -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/LabImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="LabProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="LabProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="Cookie Laboratory" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="LabBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="LabBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="LabBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="LabBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="LabBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="130,000 cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="260s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
            
            <!-- Upgrade Card 6: Fabricator -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/FabImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="FabProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="FabProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="Cookie Fabricator" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="FabBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FabBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="FabBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="FabBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="FabBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="1.4M cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="1,400s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
            
            <!-- Upgrade Card 7: Planet -->
            <Border Width="371" Height="119" CornerRadius="8" Background="#a6000000" Padding="16" Margin="0,0,0,8">
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="Images/PlanetImage.png" Width="87" Height="87" Stretch="UniformToFill"/>
                <StackPanel Orientation="Vertical" Width="240" Margin="12,0,0,0">
                  <Border Width="240" Height="30" CornerRadius="5" Background="#515151" HorizontalAlignment="Stretch" ClipToBounds="True">
                    <Grid>
                      <!-- Progress Fill -->
                      <Border x:Name="PlanetProgress" Width="0" Height="30" CornerRadius="5" Background="#2773ea" HorizontalAlignment="Left">
                        <Border.Triggers>
                          <EventTrigger RoutedEvent="Border.Loaded">
                            <BeginStoryboard>
                              <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="PlanetProgress" Storyboard.TargetProperty="Width" From="0" To="240" Duration="0:0:15"/>
                              </Storyboard>
                            </BeginStoryboard>
                          </EventTrigger>
                        </Border.Triggers>
                      </Border>
                      <!-- Title Text -->
                      <TextBlock Text="Cookie Planet" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" VerticalAlignment="Center" Margin="8,0,0,0"/>
                    </Grid>
                  </Border>
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,5,0,0">
                    <Button Width="160" Height="47" Style="{StaticResource InvisibleButtonStyle}" RenderTransformOrigin="0.5,0.5">
                      <Button.RenderTransform>
                        <ScaleTransform x:Name="PlanetBuyScale" ScaleX="1" ScaleY="1"/>
                      </Button.RenderTransform>
                      <b:Interaction.Triggers>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="PlanetBuyScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                                <DoubleAnimation Storyboard.TargetName="PlanetBuyScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                        <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                          <b:ControlStoryboardAction>
                            <b:ControlStoryboardAction.Storyboard>
                              <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="PlanetBuyScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetName="PlanetBuyScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"><DoubleAnimation.EasingFunction><QuadraticEase EasingMode="EaseOut"/></DoubleAnimation.EasingFunction></DoubleAnimation>
                              </Storyboard>
                            </b:ControlStoryboardAction.Storyboard>
                          </b:ControlStoryboardAction>
                        </b:EventTrigger>
                      </b:Interaction.Triggers>
                      <Border Width="160" Height="47" CornerRadius="5" Background="#fa9750">
                        <TextBlock Text="20M cookies" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                      </Border>
                    </Button>
                    <Border Width="75" Height="39" CornerRadius="5" Background="#515151" Margin="5,0,0,0" VerticalAlignment="Center">
                      <TextBlock Text="7,800s" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                  </StackPanel>
                </StackPanel>
              </StackPanel>
            </Border>
          </StackPanel>
        </ScrollViewer>

        <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
        <!-- Region: LEADERBOARD PAGE - Player Rankings                                              -->
        <!-- ═══════════════════════════════════════════════════════════════════════════════════════ -->
        <ScrollViewer x:Name="LeaderboardPage" Visibility="Hidden" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled" Padding="8,8,8,8">
          <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
            <!-- Leaderboard Entry 1 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 2 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 3 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 4 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 5 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 6 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 7 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
            
            <!-- Leaderboard Entry 8 -->
            <Border Width="377" Height="80" CornerRadius="8" Background="#252525" Padding="8" Margin="0,0,0,8">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="171"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="61"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Grid.Column="0">
                  <Image Source="Images/avatarimage.png" Width="64" Height="64" Stretch="UniformToFill"/>
                  <TextBlock Text="Username" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Margin="26,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                <TextBlock Text="100,000" FontFamily="Fonts/#Anton-Regular" FontSize="20" Foreground="#ffffff" Grid.Column="2" VerticalAlignment="Center"/>
              </Grid>
            </Border>
          </StackPanel>
        </ScrollViewer>

      </Grid>

      <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
      <!-- Region: Footer - Navigation Tabs                                                          -->
      <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
      <Border HorizontalAlignment="Stretch" Background="#80000000" Padding="16" Grid.Row="2">
        <Grid HorizontalAlignment="Center">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="24"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="24"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          
          <!-- Left Tab (Shop) -->
          <Button Grid.Column="0" Style="{StaticResource InvisibleButtonStyle}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
            <Button.RenderTransform>
              <ScaleTransform x:Name="LeftTabScale" ScaleX="1" ScaleY="1"/>
            </Button.RenderTransform>
            <b:Interaction.Triggers>
              <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                      <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15">
                        <DoubleAnimation.EasingFunction>
                          <QuadraticEase EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                      </DoubleAnimation>
                      <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15">
                        <DoubleAnimation.EasingFunction>
                          <QuadraticEase EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                      </DoubleAnimation>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <b:EventTrigger EventName="Click">
                <b:GoToStateAction StateName="ShopState"/>
              </b:EventTrigger>
            </b:Interaction.Triggers>
            <Image Source="Images/LeftTab.png" Width="93" Height="92" Stretch="UniformToFill"/>
          </Button>
          
          <!-- Middle Tab (Home) -->
          <Button Grid.Column="2" Style="{StaticResource InvisibleButtonStyle}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
            <Button.RenderTransform>
              <ScaleTransform x:Name="MiddleTabScale" ScaleX="1" ScaleY="1"/>
            </Button.RenderTransform>
            <b:Interaction.Triggers>
              <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                      <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15">
                        <DoubleAnimation.EasingFunction>
                          <QuadraticEase EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                      </DoubleAnimation>
                      <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15">
                        <DoubleAnimation.EasingFunction>
                          <QuadraticEase EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                      </DoubleAnimation>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <b:EventTrigger EventName="Click">
                <b:GoToStateAction StateName="HomeState"/>
              </b:EventTrigger>
            </b:Interaction.Triggers>
            <Image Source="Images/MiddleTab.png" Width="93" Height="92" Stretch="UniformToFill"/>
          </Button>
          
          <!-- Right Tab (Leaderboard) -->
          <Button Grid.Column="4" Style="{StaticResource InvisibleButtonStyle}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
            <Button.RenderTransform>
              <ScaleTransform x:Name="RightTabScale" ScaleX="1" ScaleY="1"/>
            </Button.RenderTransform>
            <b:Interaction.Triggers>
              <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                      <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
                <b:ControlStoryboardAction>
                  <b:ControlStoryboardAction.Storyboard>
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15">
                        <DoubleAnimation.EasingFunction>
                          <QuadraticEase EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                      </DoubleAnimation>
                      <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15">
                        <DoubleAnimation.EasingFunction>
                          <QuadraticEase EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                      </DoubleAnimation>
                    </Storyboard>
                  </b:ControlStoryboardAction.Storyboard>
                </b:ControlStoryboardAction>
              </b:EventTrigger>
              <b:EventTrigger EventName="Click">
                <b:GoToStateAction StateName="LeaderboardState"/>
              </b:EventTrigger>
            </b:Interaction.Triggers>
            <Image Source="Images/RightTab.png" Width="93" Height="92" Stretch="UniformToFill"/>
          </Button>
        </Grid>
      </Border>
    </Grid>
  </Border>
</Grid>
</Page>