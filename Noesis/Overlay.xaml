<!-- 
  Overlay - Header and Navigation combined (Screen Overlay)
  Display Mode: Screen Overlay, Render Order: 10 (top layer)
  Input Mode: Interactive, nonblocking
  Contains: Cookie count/CPS header at top, navigation tabs at bottom
  NOTE: Main Grid is hit-test invisible, only header/footer borders capture clicks
-->

<Page
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d"
  d:DataContext="Overlay_DataSet"
  d:DesignWidth="393"
  d:DesignHeight="852">

<Page.Resources>
  <ResourceDictionary>
    <!-- Invisible button style - no hover/click visual feedback -->
    <Style x:Key="InvisibleButtonStyle" TargetType="Button">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>
  </ResourceDictionary>
</Page.Resources>

<!-- Main container - null background so clicks pass through empty areas -->
<Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="{x:Null}">

  <Grid.RowDefinitions>
    <RowDefinition Height="143"/>
    <RowDefinition Height="*"/>
    <RowDefinition Height="124"/>
  </Grid.RowDefinitions>

  <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
  <!-- Region: Header - Cookie Count (Shared across all pages)                                  -->
  <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
  <Border HorizontalAlignment="Stretch" Background="#80000000" Padding="16,58,16,8" Grid.Row="0">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
      <TextBlock Text="{Binding cookieCount}" FontFamily="Fonts/#Anton-Regular" FontSize="36" Foreground="#ffffff" TextAlignment="Center"/>
      <TextBlock Text="{Binding cookiesPerSecond}" FontFamily="Fonts/#Anton-Regular" FontSize="15" Foreground="#ffffff" TextAlignment="Center"/>
    </StackPanel>
  </Border>

  <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
  <!-- Region: Middle Area - Empty (clicks pass through to CoreGame cookie)                     -->
  <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->

  <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
  <!-- Region: Footer - Navigation Tabs                                                         -->
  <!-- ═════════════════════════════════════════════════════════════════════════════════════════ -->
  <Border HorizontalAlignment="Stretch" Background="#80000000" Padding="16" Grid.Row="2">
    <Grid HorizontalAlignment="Center">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="24"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="24"/>
        <ColumnDefinition Width="Auto"/>
      </Grid.ColumnDefinitions>
      
      <!-- Left Tab (Shop) -->
      <Button Grid.Column="0" Style="{StaticResource InvisibleButtonStyle}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5"
              Command="{Binding onShopClick}">
        <Button.RenderTransform>
          <ScaleTransform x:Name="LeftTabScale" ScaleX="1" ScaleY="1"/>
        </Button.RenderTransform>
        <b:Interaction.Triggers>
          <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
            <b:ControlStoryboardAction>
              <b:ControlStoryboardAction.Storyboard>
                <Storyboard>
                  <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                  <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                </Storyboard>
              </b:ControlStoryboardAction.Storyboard>
            </b:ControlStoryboardAction>
          </b:EventTrigger>
          <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
            <b:ControlStoryboardAction>
              <b:ControlStoryboardAction.Storyboard>
                <Storyboard>
                  <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15">
                    <DoubleAnimation.EasingFunction>
                      <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                  </DoubleAnimation>
                  <DoubleAnimation Storyboard.TargetName="LeftTabScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15">
                    <DoubleAnimation.EasingFunction>
                      <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                  </DoubleAnimation>
                </Storyboard>
              </b:ControlStoryboardAction.Storyboard>
            </b:ControlStoryboardAction>
          </b:EventTrigger>
        </b:Interaction.Triggers>
        <Image Source="Images/LeftTab.png" Width="93" Height="92" Stretch="UniformToFill"/>
      </Button>
      
      <!-- Middle Tab (Home) -->
      <Button Grid.Column="2" Style="{StaticResource InvisibleButtonStyle}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5"
              Command="{Binding onHomeClick}">
        <Button.RenderTransform>
          <ScaleTransform x:Name="MiddleTabScale" ScaleX="1" ScaleY="1"/>
        </Button.RenderTransform>
        <b:Interaction.Triggers>
          <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
            <b:ControlStoryboardAction>
              <b:ControlStoryboardAction.Storyboard>
                <Storyboard>
                  <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                  <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                </Storyboard>
              </b:ControlStoryboardAction.Storyboard>
            </b:ControlStoryboardAction>
          </b:EventTrigger>
          <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
            <b:ControlStoryboardAction>
              <b:ControlStoryboardAction.Storyboard>
                <Storyboard>
                  <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15">
                    <DoubleAnimation.EasingFunction>
                      <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                  </DoubleAnimation>
                  <DoubleAnimation Storyboard.TargetName="MiddleTabScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15">
                    <DoubleAnimation.EasingFunction>
                      <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                  </DoubleAnimation>
                </Storyboard>
              </b:ControlStoryboardAction.Storyboard>
            </b:ControlStoryboardAction>
          </b:EventTrigger>
        </b:Interaction.Triggers>
        <Image Source="Images/MiddleTab.png" Width="93" Height="92" Stretch="UniformToFill"/>
      </Button>
      
      <!-- Right Tab (Leaderboard) -->
      <Button Grid.Column="4" Style="{StaticResource InvisibleButtonStyle}" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5"
              Command="{Binding onStatsClick}">
        <Button.RenderTransform>
          <ScaleTransform x:Name="RightTabScale" ScaleX="1" ScaleY="1"/>
        </Button.RenderTransform>
        <b:Interaction.Triggers>
          <b:EventTrigger EventName="PreviewMouseLeftButtonDown">
            <b:ControlStoryboardAction>
              <b:ControlStoryboardAction.Storyboard>
                <Storyboard>
                  <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleX" To="0.9" Duration="0:0:0.05"/>
                  <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleY" To="0.9" Duration="0:0:0.05"/>
                </Storyboard>
              </b:ControlStoryboardAction.Storyboard>
            </b:ControlStoryboardAction>
          </b:EventTrigger>
          <b:EventTrigger EventName="PreviewMouseLeftButtonUp">
            <b:ControlStoryboardAction>
              <b:ControlStoryboardAction.Storyboard>
                <Storyboard>
                  <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15">
                    <DoubleAnimation.EasingFunction>
                      <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                  </DoubleAnimation>
                  <DoubleAnimation Storyboard.TargetName="RightTabScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15">
                    <DoubleAnimation.EasingFunction>
                      <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                  </DoubleAnimation>
                </Storyboard>
              </b:ControlStoryboardAction.Storyboard>
            </b:ControlStoryboardAction>
          </b:EventTrigger>
        </b:Interaction.Triggers>
        <Image Source="Images/RightTab.png" Width="93" Height="92" Stretch="UniformToFill"/>
      </Button>
    </Grid>
  </Border>
</Grid>
</Page>
