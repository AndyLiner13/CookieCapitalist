<!-- 
  Background - Blue gradient background with falling cookie rain (Screen Overlay)
  Display Mode: Screen Overlay, Render Order: 0 (back-most layer)
  Input Mode: No Interaction
-->

<Page
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="d"
  d:DataContext="Background_DataSet"
  d:DesignWidth="393"
  d:DesignHeight="852">

<Page.Resources>
  <ResourceDictionary>
    <BooleanToVisibilityConverter x:Key="BoolToVis"/>
  </ResourceDictionary>
</Page.Resources>

<Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
  
  <!-- Blue gradient background -->
  <Grid.Background>
    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
      <GradientStop Color="#2773EA" Offset="0"/>
      <GradientStop Color="#1E4DCE" Offset="1"/>
    </LinearGradientBrush>
  </Grid.Background>
  
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- COOKIE RAIN - Falling cookies (click = 1, batches = proportional, home page only)          -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <Canvas x:Name="RainCookieContainer" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
          IsHitTestVisible="False" ClipToBounds="True"
          Visibility="{Binding rainVisible, Converter={StaticResource BoolToVis}}">
    <!-- 100 Rain Cookies (0-99) -->
    <!-- Each cookie uses the same animation; TypeScript staggers start times and positions. -->
    <!-- Rain Cookie 0 -->
    <Image x:Name="RainCookie0" Source="Images/Coogie.png" Width="128" Height="128" Opacity="{Binding RainCookie0Opacity}" Visibility="{Binding RainCookie0Visible, Converter={StaticResource BoolToVis}}" Canvas.Left="{Binding RainCookie0Left}" Canvas.Top="0" RenderTransformOrigin="0.5,0.5" IsHitTestVisible="False">
      <Image.Resources>
        <Storyboard x:Key="Rain0Story">
          <DoubleAnimation Storyboard.TargetName="RainCookie0Translate" Storyboard.TargetProperty="Y" From="-120" To="{Binding RelativeSource={RelativeSource AncestorType=Canvas}, Path=ActualHeight}" Duration="0:0:3" FillBehavior="HoldEnd"/>
        </Storyboard>
      </Image.Resources>
      <Image.RenderTransform><TransformGroup><ScaleTransform ScaleX="0.87" ScaleY="0.87"/><TranslateTransform x:Name="RainCookie0Translate" Y="0"/></TransformGroup></Image.RenderTransform>
      <b:Interaction.Triggers>
        <b:DataTrigger Binding="{Binding RainCookie0Animate}" Value="True">
          <b:ControlStoryboardAction Storyboard="{StaticResource Rain0Story}" ControlStoryboardOption="Play"/>
        </b:DataTrigger>
        <b:DataTrigger Binding="{Binding RainCookie0Animate}" Value="False">
          <b:ControlStoryboardAction Storyboard="{StaticResource Rain0Story}" ControlStoryboardOption="Stop"/>
        </b:DataTrigger>
      </b:Interaction.Triggers>
    </Image>
  </Canvas>

</Grid>
</Page>
